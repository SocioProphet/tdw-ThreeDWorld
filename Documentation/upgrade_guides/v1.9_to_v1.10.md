# How to upgrade from TDW v1.9 to v1.10

## Read the changelog

[Read this](../Changelog.md) for a complete list of changes. Most of the changes in TDW v1.10 are relatively minor but may require you to adjust the code in your controllers.

## 1. Object data is faster and array-like return values are numpy arrays

Object data such as `Transforms`, `Rigidbodies`, and `Bounds` is significantly faster in TDW v1.10. There are some small API changes associated with this improvement that affect array-like return values (e.g. `transforms.get_rotation()` or `rigidbodies.get_velocity()`) for the following output data types:

- `Transforms`
- `Rigidbodies`
- `StaticRigidbodies`
- `Bounds`
- `SegmentationColors` 
- `LocalTransforms`
- `DynamicCompositeObjects`

Previously, per-object return values, such as the position of the object, were returned as a tuple. Now, they are all returned as numpy arrays.

If you are using `ObjectManager` or `CompositeObjectManager` to handle object data, the API and return values are exactly the same as before.

Consider this minimal example, which prints the position of the object:

```python
from tdw.controller import Controller
from tdw.tdw_utils import TDWUtils
from tdw.output_data import OutputData, Transforms

c = Controller()
resp = c.communicate([TDWUtils.create_empty_room(12, 12),
                      Controller.get_add_object(model_name="rh10",
                                                object_id=0),
                      {"$type": "send_transforms",
                       "frequency": "once"}])
for i in range(len(resp) - 1):
    r_id = OutputData.get_data_type_id(resp[i])
    if r_id == "tran":
        transform = Transforms(resp[i])
        position = transform.get_position(0)
        print(position)
c.communicate({"$type": "terminate"})
```

Output:

| TDW v1.9                                                     | TDW v1.10                                        |
| ------------------------------------------------------------ | ------------------------------------------------ |
| `(-1.4852732419967651e-05, 0.001660674810409546, 2.7572386898100376e-06)` | `[-1.4852732e-05  1.6606748e-03  2.7572387e-06]` |

If your controller unpacked the values of the tuple, be aware that this is no longer allowed:

```python
from tdw.controller import Controller
from tdw.tdw_utils import TDWUtils
from tdw.output_data import OutputData, Transforms

c = Controller()
resp = c.communicate([TDWUtils.create_empty_room(12, 12),
                      Controller.get_add_object(model_name="rh10",
                                                object_id=0),
                      {"$type": "send_transforms",
                       "frequency": "once"}])
for i in range(len(resp) - 1):
    r_id = OutputData.get_data_type_id(resp[i])
    if r_id == "tran":
        transform = Transforms(resp[i])
        x, y, z = transform.get_position(0)  # This will not work in TDW v1.10
c.communicate({"$type": "terminate"})
```